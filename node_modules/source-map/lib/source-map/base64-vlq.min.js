if("function"!=typeof define)var define=require("amdefine")(module,require);define(function(e,t,r){function u(e){return 0>e?(-e<<1)+1:(e<<1)+0}function l(e){var t=1===(1&e),r=e>>1;return t?-r:r}var n=e("./base64"),i=5,a=1<<i,o=a-1,s=a;t.encode=function(e){var r,t="",a=u(e);do r=a&o,a>>>=i,a>0&&(r|=s),t+=n.encode(r);while(a>0);return t},t.decode=function(e,t,r){var f,p,a=e.length,u=0,c=0;do{if(t>=a)throw new Error("Expected more digits in base 64 VLQ value.");if(p=n.decode(e.charCodeAt(t++)),-1===p)throw new Error("Invalid base64 digit: "+e.charAt(t-1));f=!!(p&s),p&=o,u+=p<<c,c+=i}while(f);r.value=l(u),r.rest=t}});