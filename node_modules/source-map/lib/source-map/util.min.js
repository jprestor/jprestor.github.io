if("function"!=typeof define)var define=require("amdefine")(module,require);define(function(e,t,r){function n(e,t,r){if(t in e)return e[t];if(3===arguments.length)return r;throw new Error('"'+t+'" is a required argument.')}function o(e){var t=e.match(i);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function s(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function u(e){var t=e,r=o(e);if(r){if(!r.path)return e;t=r.path}for(var a,n="/"===t.charAt(0),i=t.split(/\/+/),u=0,l=i.length-1;l>=0;l--)a=i[l],"."===a?i.splice(l,1):".."===a?u++:u>0&&(""===a?(i.splice(l+1,u),u=0):(i.splice(l,2),u--));return t=i.join("/"),""===t&&(t=n?"/":"."),r?(r.path=t,s(r)):t}function l(e,t){""===e&&(e="."),""===t&&(t=".");var r=o(t),n=o(e);if(n&&(e=n.path||"/"),r&&!r.scheme)return n&&(r.scheme=n.scheme),s(r);if(r||t.match(a))return t;if(n&&!n.host&&!n.path)return n.host=t,s(n);var i="/"===t.charAt(0)?t:u(e.replace(/\/+$/,"")+"/"+t);return n?(n.path=i,s(n)):i}function c(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var r=0;0!==t.indexOf(e+"/");){var n=e.lastIndexOf("/");if(0>n)return t;if(e=e.slice(0,n),e.match(/^([^\/]+:\/)?\/*$/))return t;++r}return Array(r+1).join("../")+t.substr(e.length+1)}function f(e){return"$"+e}function p(e){return e.substr(1)}function h(e,t,r){var n=e.source-t.source;return 0!==n?n:(n=e.originalLine-t.originalLine,0!==n?n:(n=e.originalColumn-t.originalColumn,0!==n||r?n:(n=e.generatedColumn-t.generatedColumn,0!==n?n:(n=e.generatedLine-t.generatedLine,0!==n?n:e.name-t.name))))}function d(e,t,r){var n=e.generatedLine-t.generatedLine;return 0!==n?n:(n=e.generatedColumn-t.generatedColumn,0!==n||r?n:(n=e.source-t.source,0!==n?n:(n=e.originalLine-t.originalLine,0!==n?n:(n=e.originalColumn-t.originalColumn,0!==n?n:e.name-t.name))))}function m(e,t){return e===t?0:e>t?1:-1}function v(e,t){var r=e.generatedLine-t.generatedLine;return 0!==r?r:(r=e.generatedColumn-t.generatedColumn,0!==r?r:(r=m(e.source,t.source),0!==r?r:(r=e.originalLine-t.originalLine,0!==r?r:(r=e.originalColumn-t.originalColumn,0!==r?r:m(e.name,t.name)))))}t.getArg=n;var i=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,a=/^data:.+\,.+$/;t.urlParse=o,t.urlGenerate=s,t.normalize=u,t.join=l,t.relative=c,t.toSetString=f,t.fromSetString=p,t.compareByOriginalPositions=h,t.compareByGeneratedPositionsDeflated=d,t.compareByGeneratedPositionsInflated=v});