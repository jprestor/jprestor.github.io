!function(e){"use strict";e(function(e){function a(e){return function(){return u(e,this,arguments)}}function o(e){return u(e,this,r.call(arguments,1))}function s(e,t){return u(e,this,t||[])}function u(e,t,r){return l(void 0,e.apply(t,r))}function l(e,t){try{return p(t.next(e),t)}catch(r){return i(r)}}function c(e){return l(e,this)}function f(e){try{return p(this["throw"](e),this)}catch(e){return i(e)}}function p(e,t){if(e.done)return e.value;var r=n._handler(e.value);if(r.state()>0)return l(r.value,t);var i=n._defer();return r.chain(i._handler,t,c,f),i}var t=e("./when"),r=Array.prototype.slice,n=t.Promise,i=n.reject;return{lift:a,call:o,apply:s}})}("function"==typeof define&&define.amd?define:function(e){module.exports=e(require)});