!function(e){"use strict";e(function(){function e(){throw new TypeError("catch predicate must be a function")}function t(e,t){return r(t)?e instanceof t:t(e)}function r(e){return e===Error||null!=e&&e.prototype instanceof Error}function n(e){return("object"==typeof e||"function"==typeof e)&&null!==e}function i(e){return e}return function(r){function u(e,r){return function(n){return t(n,r)?e.call(this,n):o(n)}}function l(e,t,r,i){var a=e.call(t);return n(a)?c(a,r,i):r(i)}function c(e,t,r){return a(e).then(function(){return t(r)})}var a=r.resolve,o=r.reject,s=r.prototype["catch"];return r.prototype.done=function(e,t){this._handler.visit(this._handler.receiver,e,t)},r.prototype["catch"]=r.prototype.otherwise=function(t){return arguments.length<2?s.call(this,t):"function"!=typeof t?this.ensure(e):s.call(this,u(arguments[1],t))},r.prototype["finally"]=r.prototype.ensure=function(e){return"function"!=typeof e?this:this.then(function(t){return l(e,this,i,t)},function(t){return l(e,this,o,t)})},r.prototype["else"]=r.prototype.orElse=function(e){return this.then(void 0,function(){return e})},r.prototype["yield"]=function(e){return this.then(function(){return e})},r.prototype.tap=function(e){return this.then(e)["yield"](this)},r}})}("function"==typeof define&&define.amd?define:function(e){module.exports=e()});