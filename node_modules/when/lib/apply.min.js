!function(e){"use strict";e(function(){function e(e,r){function n(t,n,a){var o=e._defer(),s=a.length,u=new Array(s);return i({f:t,thisArg:n,args:a,params:u,i:s-1,call:r},o._handler),o}function i(t,n){if(t.i<0)return r(t.f,t.thisArg,t.params,n);var i=e._handler(t.args[t.i]);i.fold(a,t,void 0,n)}function a(e,t,r){e.params[e.i]=t,e.i-=1,i(e,r)}return arguments.length<2&&(r=t),n}function t(e,t,r,n){try{n.resolve(e.apply(t,r))}catch(i){n.reject(i)}}return e.tryCatchResolve=t,e})}("function"==typeof define&&define.amd?define:function(e){module.exports=e()});