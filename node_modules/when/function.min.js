!function(e){e(function(e){function o(e,t){return i(e,this,null==t?[]:a.call(t))}function s(e){var t=arguments.length>1?a.call(arguments,1):[];return function(){return i(e,this,t.concat(a.call(arguments)))}}function u(e,t,r){return n(s,t,r,e)}function l(e){var n=a.call(arguments,1);return function(){var i=this,o=a.call(arguments),s=r.apply(i,[e].concat(o));return t.reduce(n,function(e,t){return t.call(i,e)},s)}}var t=e("./when"),r=t["try"],n=e("./lib/liftAll"),i=e("./lib/apply")(t.Promise),a=Array.prototype.slice;return{lift:s,liftAll:u,call:r,apply:o,compose:l}})}("function"==typeof define&&define.amd?define:function(e){module.exports=e(require)});