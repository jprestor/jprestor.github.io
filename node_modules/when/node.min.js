!function(e){e(function(e){function o(e,t){return a(e,this,t||[])}function s(e,t,r,n){var i=f(n);try{switch(r.length){case 2:e.call(t,r[0],r[1],i);break;case 1:e.call(t,r[0],i);break;case 0:e.call(t,i);break;default:r.push(i),e.apply(t,r)}}catch(a){n.reject(a)}}function u(e){return a(e,this,i.call(arguments,1))}function l(e){var t=arguments.length>1?i.call(arguments,1):[];return function(){var o,r=t.length,n=arguments.length,i=new Array(n+r);for(o=0;r>o;++o)i[o]=t[o];for(o=0;n>o;++o)i[o+r]=arguments[o];return a(e,this,i)}}function c(e,t,n){return r(l,t,n,e)}function f(e){return function(t,r){t?e.reject(t):arguments.length>2?e.resolve(i.call(arguments,1)):e.resolve(r)}}function p(e,r){function i(e){a(null,e)}function a(e,t){n(function(){r(e,t)},0)}return e=t(e),r&&e.then(i,a),e}function h(e){return function(t){return p(t,e)}}var t=e("./when"),r=e("./lib/liftAll"),n=e("./lib/env").setTimer,i=Array.prototype.slice,a=e("./lib/apply")(t.Promise,s);return{lift:l,liftAll:c,apply:o,call:u,createCallback:f,bindCallback:p,liftCallback:h}})}("function"==typeof define&&define.amd?define:function(e){module.exports=e(require)});