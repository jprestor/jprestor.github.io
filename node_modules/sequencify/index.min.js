"use strict";var sequence=function(e,t,r,n){var i,a,o,s,u;for(n=n||[],i=0;i<t.length;i++)if(a=t[i],-1===r.indexOf(a)){if(o=e[a],!o){s=new Error('task "'+a+'" is not defined'),s.missingTask=a,s.taskList=[];for(u in e)e.hasOwnProperty(u)&&s.taskList.push(e[u].name);throw s}if(n.indexOf(a)>-1){n.push(a),s=new Error("Recursive dependencies detected: "+n.join(" -> ")),s.recursiveTasks=n,s.taskList=[];for(u in e)e.hasOwnProperty(u)&&s.taskList.push(e[u].name);throw s}o.dep.length&&(n.push(a),sequence(e,o.dep,r,n),n.pop(a)),r.push(a)}};module.exports=sequence;