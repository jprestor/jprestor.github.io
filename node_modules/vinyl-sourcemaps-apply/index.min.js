"use strict";function assertProperty(e,t){if(!e.hasOwnProperty(t)){var r=new Error('Source map to be applied is missing the "'+t+'" property');throw r}}var SourceMapGenerator=require("source-map").SourceMapGenerator,SourceMapConsumer=require("source-map").SourceMapConsumer;module.exports=function(e,t){if(("string"==typeof t||t instanceof String)&&(t=JSON.parse(t)),e.sourceMap&&("string"==typeof e.sourceMap||e.sourceMap instanceof String)&&(e.sourceMap=JSON.parse(e.sourceMap)),assertProperty(t,"file"),assertProperty(t,"mappings"),assertProperty(t,"sources"),t.file=t.file.replace(/\\/g,"/"),t.sources=t.sources.map(function(e){return e.replace(/\\/g,"/")}),e.sourceMap&&""!==e.sourceMap.mappings){var r=SourceMapGenerator.fromSourceMap(new SourceMapConsumer(t));r.applySourceMap(new SourceMapConsumer(e.sourceMap)),e.sourceMap=JSON.parse(r.toString())}else e.sourceMap=t};