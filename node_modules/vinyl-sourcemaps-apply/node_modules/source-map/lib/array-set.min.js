function ArraySet(){this._array=[],this._set=hasNativeMap?new Map:Object.create(null)}var util=require("./util"),has=Object.prototype.hasOwnProperty,hasNativeMap="undefined"!=typeof Map;ArraySet.fromArray=function(e,t){for(var r=new ArraySet,n=0,i=e.length;i>n;n++)r.add(e[n],t);return r},ArraySet.prototype.size=function(){return hasNativeMap?this._set.size:Object.getOwnPropertyNames(this._set).length},ArraySet.prototype.add=function(e,t){var r=hasNativeMap?e:util.toSetString(e),n=hasNativeMap?this.has(e):has.call(this._set,r),i=this._array.length;(!n||t)&&this._array.push(e),n||(hasNativeMap?this._set.set(e,i):this._set[r]=i)},ArraySet.prototype.has=function(e){if(hasNativeMap)return this._set.has(e);var t=util.toSetString(e);return has.call(this._set,t)},ArraySet.prototype.indexOf=function(e){if(hasNativeMap){var t=this._set.get(e);if(t>=0)return t}else{var r=util.toSetString(e);if(has.call(this._set,r))return this._set[r]}throw new Error('"'+e+'" is not in the set.')},ArraySet.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},ArraySet.prototype.toArray=function(){return this._array.slice()},exports.ArraySet=ArraySet;