"use strict";var BufferStreams=require("bufferstreams");module.exports=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function. The argument to VinylBufferStream constructor must be a function.");return function(t,r){if("function"!=typeof r)throw new TypeError(r+" is not a function. The second argument to VinylBufferStream instance must be a function.");if(!t||"function"!=typeof t.isNull)return void r(new TypeError("Expecting a vinyl file object."));if(t.isNull())return void r(null,null);if(t.isStream())var n=t.contents.pipe(new BufferStreams(function(t,i,a){e(i,function(e,t){return a(e,t),e?void r(e):void r(null,n)})}));else e(t.contents,r)}};