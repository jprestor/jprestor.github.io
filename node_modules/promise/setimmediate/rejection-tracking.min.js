"use strict";function disable(){enabled=!1,Promise._37=null,Promise._87=null}function enable(e){function i(t){(e.allRejections||matchWhitelist(n[t].error,e.whitelist||DEFAULT_WHITELIST))&&(n[t].displayId=r++,e.onUnhandled?(n[t].logged=!0,e.onUnhandled(n[t].displayId,n[t].error)):(n[t].logged=!0,logError(n[t].displayId,n[t].error)))}function a(t){n[t].logged&&(e.onHandled?e.onHandled(n[t].displayId,n[t].error):n[t].onUnhandled||(console.warn("Promise Rejection Handled (id: "+n[t].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+n[t].displayId+".")))}e=e||{},enabled&&disable(),enabled=!0;var t=0,r=0,n={};Promise._37=function(e){2===e._65&&n[e._51]&&(n[e._51].logged?a(e._51):clearTimeout(n[e._51].timeout),delete n[e._51])},Promise._87=function(e,r){0===e._40&&(e._51=t++,n[e._51]={displayId:null,error:r,timeout:setTimeout(i.bind(null,e._51),matchWhitelist(r,DEFAULT_WHITELIST)?100:2e3),logged:!1})}}function logError(e,t){console.warn("Possible Unhandled Promise Rejection (id: "+e+"):");var r=(t&&(t.stack||t))+"";r.split("\n").forEach(function(e){console.warn("  "+e)})}function matchWhitelist(e,t){return t.some(function(t){return e instanceof t})}var Promise=require("./core"),DEFAULT_WHITELIST=[ReferenceError,TypeError,RangeError],enabled=!1;exports.disable=disable,exports.enable=enable;