"use strict";var has=Object.prototype.hasOwnProperty,hexTable=function(){for(var e=[],t=0;256>t;++t)e.push("%"+((16>t?"0":"")+t.toString(16)).toUpperCase());return e}();exports.arrayToObject=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)"undefined"!=typeof e[n]&&(r[n]=e[n]);return r},exports.merge=function(e,t,r){if(!t)return e;if("object"!=typeof t){if(Array.isArray(e))e.push(t);else{if("object"!=typeof e)return[e,t];(r.plainObjects||r.allowPrototypes||!has.call(Object.prototype,t))&&(e[t]=!0)}return e}if("object"!=typeof e)return[e].concat(t);var n=e;return Array.isArray(e)&&!Array.isArray(t)&&(n=exports.arrayToObject(e,r)),Array.isArray(e)&&Array.isArray(t)?(t.forEach(function(t,n){has.call(e,n)?e[n]&&"object"==typeof e[n]?e[n]=exports.merge(e[n],t,r):e.push(t):e[n]=t}),e):Object.keys(t).reduce(function(e,n){var i=t[n];return Object.prototype.hasOwnProperty.call(e,n)?e[n]=exports.merge(e[n],i,r):e[n]=i,e},n)},exports.decode=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},exports.encode=function(e){if(0===e.length)return e;for(var t="string"==typeof e?e:String(e),r="",n=0;n<t.length;++n){var i=t.charCodeAt(n);45===i||46===i||95===i||126===i||i>=48&&57>=i||i>=65&&90>=i||i>=97&&122>=i?r+=t.charAt(n):128>i?r+=hexTable[i]:2048>i?r+=hexTable[192|i>>6]+hexTable[128|63&i]:55296>i||i>=57344?r+=hexTable[224|i>>12]+hexTable[128|i>>6&63]+hexTable[128|63&i]:(n+=1,i=65536+((1023&i)<<10|1023&t.charCodeAt(n)),r+=hexTable[240|i>>18]+hexTable[128|i>>12&63]+hexTable[128|i>>6&63]+hexTable[128|63&i])}return r},exports.compact=function(e,t){if("object"!=typeof e||null===e)return e;var r=t||[],n=r.indexOf(e);if(-1!==n)return r[n];if(r.push(e),Array.isArray(e)){for(var i=[],a=0;a<e.length;++a)e[a]&&"object"==typeof e[a]?i.push(exports.compact(e[a],r)):"undefined"!=typeof e[a]&&i.push(e[a]);return i}var o=Object.keys(e);return o.forEach(function(t){e[t]=exports.compact(e[t],r)}),e},exports.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},exports.isBuffer=function(e){return null===e||"undefined"==typeof e?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))};