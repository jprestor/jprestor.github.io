const test=require("tap").test,prr=require("./");test("test prr(o, key, value) form",function(e){e.plan(2);var t={};prr(t,"foo","bar"),e.equal(t.foo,"bar","correct value"),e.deepEqual(Object.getOwnPropertyDescriptor(t,"foo"),{enumerable:!1,configurable:!1,writable:!1,value:"bar"},"correct property descriptor"),e.end()}),test("test prr(o, { key: value }) form",function(e){e.plan(2);var t={};prr(t,{foo:"bar"}),e.equal(t.foo,"bar","correct value"),e.deepEqual(Object.getOwnPropertyDescriptor(t,"foo"),{enumerable:!1,configurable:!1,writable:!1,value:"bar"},"correct property descriptor"),e.end()}),test("test multiple key:value pairs",function(e){var t={foo:"bar"};prr(t,{one:"ONE",two:"TWO",obj:{o:"o"}}),e.deepEqual(t,{foo:"bar"},"properties are not enumerable"),e.equal(t.one,"ONE","correctly set property"),e.equal(t.two,"TWO","correctly set property"),e.deepEqual(t.obj,{o:"o"},"correctly set property"),["one","two","obj"].forEach(function(r){e.deepEqual(Object.getOwnPropertyDescriptor(t,r),{enumerable:!1,configurable:!1,writable:!1,value:"obj"==r?{o:"o"}:r.toUpperCase()},"correct property descriptor")}),e.end()}),test("test descriptor options",function(e){var t={};prr(t,"foo","bar",{enumerable:!0,configurable:!1}),e.equal(t.foo,"bar","correct value"),e.deepEqual(Object.getOwnPropertyDescriptor(t,"foo"),{enumerable:!0,configurable:!1,writable:!1,value:"bar"},"correct property descriptor"),prr(t,"foo2","bar2",{enumerable:!0,configurable:!0,writable:!1}),e.equal(t.foo2,"bar2","correct value"),e.deepEqual(Object.getOwnPropertyDescriptor(t,"foo2"),{enumerable:!0,configurable:!0,writable:!1,value:"bar2"},"correct property descriptor"),prr(t,"foo3","bar3",{enumerable:!0,configurable:!0,writable:!0}),e.equal(t.foo3,"bar3","correct value"),e.deepEqual(Object.getOwnPropertyDescriptor(t,"foo3"),{enumerable:!0,configurable:!0,writable:!0,value:"bar3"},"correct property descriptor"),e.end()}),test("test descriptor options, string form",function(e){var t={};prr(t,"foo","bar","e"),e.equal(t.foo,"bar","correct value"),e.deepEqual(Object.getOwnPropertyDescriptor(t,"foo"),{enumerable:!0,configurable:!1,writable:!1,value:"bar"},"correct property descriptor"),prr(t,"foo2","bar2","ec"),e.equal(t.foo2,"bar2","correct value"),e.deepEqual(Object.getOwnPropertyDescriptor(t,"foo2"),{enumerable:!0,configurable:!0,writable:!1,value:"bar2"},"correct property descriptor"),prr(t,"foo3","bar3","ecw"),e.equal(t.foo3,"bar3","correct value"),e.deepEqual(Object.getOwnPropertyDescriptor(t,"foo3"),{enumerable:!0,configurable:!0,writable:!0,value:"bar3"},"correct property descriptor"),e.end()});