"use strict";function initParams(e,t,r){"function"==typeof t&&(r=t);var n={};return"object"==typeof t?extend(n,t,{uri:e}):"string"==typeof e?extend(n,{uri:e}):extend(n,e),n.callback=r||n.callback,n}function request(e,t,r){if("undefined"==typeof e)throw new Error("undefined is not a valid uri or options object.");var n=initParams(e,t,r);if("HEAD"===n.method&&paramsHaveRequestBody(n))throw new Error("HTTP HEAD requests MUST NOT include a request body.");return new request.Request(n)}function verbFunc(e){var t=e.toUpperCase();return function(e,r,n){var i=initParams(e,r,n);return i.method=t,request(i,i.callback)}}function wrapRequestMethod(e,t,r,n){return function(i,a,o){var s=initParams(i,a,o),u={};return extend(!0,u,t,s),u.pool=s.pool||t.pool,n&&(u.method=n.toUpperCase()),"function"==typeof r&&(e=r),e(u,u.callback)}}var extend=require("extend"),cookies=require("./lib/cookies"),helpers=require("./lib/helpers"),paramsHaveRequestBody=helpers.paramsHaveRequestBody;request.get=verbFunc("get"),request.head=verbFunc("head"),request.post=verbFunc("post"),request.put=verbFunc("put"),request.patch=verbFunc("patch"),request.del=verbFunc("delete"),request["delete"]=verbFunc("delete"),request.jar=function(e){return cookies.jar(e)},request.cookie=function(e){return cookies.parse(e)},request.defaults=function(e,t){var r=this;e=e||{},"function"==typeof e&&(t=e,e={});var n=wrapRequestMethod(r,e,t),i=["get","head","post","put","patch","del","delete"];return i.forEach(function(i){n[i]=wrapRequestMethod(r[i],e,t,i)}),n.cookie=wrapRequestMethod(r.cookie,e,t),n.jar=r.jar,n.defaults=r.defaults,n},request.forever=function(e,t){var r={};return t&&extend(r,t),e&&(r.agentOptions=e),r.forever=!0,request.defaults(r)},module.exports=request,request.Request=require("./request"),request.initParams=initParams,Object.defineProperty(request,"debug",{enumerable:!0,get:function(){return request.Request.debug},set:function(e){request.Request.debug=e}});