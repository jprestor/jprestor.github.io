"use strict";function find_builtins(){function t(t){push_uniq(e,t)}var e=["null","true","false","Infinity","-Infinity","undefined"];return[Object,Array,Function,Number,String,Boolean,Error,Math,Date,RegExp].forEach(function(e){Object.getOwnPropertyNames(e).map(t),e.prototype&&Object.getOwnPropertyNames(e.prototype).map(t)}),e}function mangle_properties(e,t){function f(e){return l.indexOf(e)>=0?!1:r.indexOf(e)>=0?!1:t.only_cache?n.props.has(e):/^-?[0-9]+(\.[0-9]+)?(e[+-][0-9]+)?$/.test(e)?!1:!0}function p(e){return a&&e in c?!1:i&&!i.test(e)?!1:r.indexOf(e)>=0?!1:n.props.has(e)||u.indexOf(e)>=0}function h(e,t){return t?void(c[e]=!0):(f(e)&&push_uniq(u,e),void(p(e)||push_uniq(l,e)))}function d(e){if(!p(e))return e;var t=n.props.get(e);if(!t){if(o){var r="_$"+e+"$"+s+"_";!f(r)||a&&r in c||(t=r)}if(!t)do t=base54(++n.cname);while(!f(t)||a&&t in c);n.props.set(e,t)}return t}function m(e,t){var r={};try{!function i(e){e.walk(new TreeWalker(function(e){if(e instanceof AST_Seq)return i(e.cdr),!0;if(e instanceof AST_String)return h(e.value,t),!0;if(e instanceof AST_Conditional)return i(e.consequent),i(e.alternative),!0;throw r}))}(e)}catch(n){if(n!==r)throw n}}function v(e){return e.transform(new TreeTransformer(function(e){return e instanceof AST_Seq?e.cdr=v(e.cdr):e instanceof AST_String?e.value=d(e.value):e instanceof AST_Conditional&&(e.consequent=v(e.consequent),e.alternative=v(e.alternative)),e}))}t=defaults(t,{cache:null,debug:!1,ignore_quoted:!1,only_cache:!1,regex:null,reserved:null});var r=t.reserved;null==r&&(r=find_builtins());var n=t.cache;null==n&&(n={cname:-1,props:new Dictionary});var s,i=t.regex,a=t.ignore_quoted,o=t.debug!==!1;o&&(s=t.debug===!0?"":t.debug);var u=[],l=[],c={};return e.walk(new TreeWalker(function(e){e instanceof AST_ObjectKeyVal?h(e.key,a&&e.quote):e instanceof AST_ObjectProperty?h(e.key.name):e instanceof AST_Dot?h(e.property):e instanceof AST_Sub&&m(e.property,a)})),e.transform(new TreeTransformer(function(e){e instanceof AST_ObjectKeyVal?a&&e.quote||(e.key=d(e.key)):e instanceof AST_ObjectProperty?e.key.name=d(e.key.name):e instanceof AST_Dot?e.property=d(e.property):e instanceof AST_Sub&&(a||(e.property=v(e.property)))}))}