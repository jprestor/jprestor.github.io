"use strict";function SourceMap(e){function n(n,i,a,o,s,u){if(r){var l=r.originalPositionFor({line:o,column:s});if(null===l.source)return;n=l.source,o=l.line,s=l.column,u=l.name||u}t.addMapping({generated:{line:i+e.dest_line_diff,column:a},original:{line:o+e.orig_line_diff,column:s},source:n,name:u})}e=defaults(e,{file:null,root:null,orig:null,orig_line_diff:0,dest_line_diff:0});var t=new MOZ_SourceMap.SourceMapGenerator({file:e.file,sourceRoot:e.root}),r=e.orig&&new MOZ_SourceMap.SourceMapConsumer(e.orig);return r&&Array.isArray(e.orig.sources)&&r._sources.toArray().forEach(function(e){var n=r.sourceContentFor(e,!0);n&&t.setSourceContent(e,n)}),{add:n,get:function(){return t},toString:function(){return JSON.stringify(t.toJSON())}}}