"use strict";function TreeTransformer(e,t){TreeWalker.call(this),this.before=e,this.after=t}TreeTransformer.prototype=new TreeWalker,function(e){function t(t,r){t.DEFMETHOD("transform",function(t,n){var i,a;return t.push(this),t.before&&(i=t.before(this,r,n)),i===e&&(t.after?(t.stack[t.stack.length-1]=i=this,r(i,t),a=t.after(i,n),a!==e&&(i=a)):(i=this,r(i,t))),t.pop(this),i})}function r(e,t){return MAP(e,function(e){return e.transform(t,!0)})}t(AST_Node,noop),t(AST_LabeledStatement,function(e,t){e.label=e.label.transform(t),e.body=e.body.transform(t)}),t(AST_SimpleStatement,function(e,t){e.body=e.body.transform(t)}),t(AST_Block,function(e,t){e.body=r(e.body,t)}),t(AST_DWLoop,function(e,t){e.condition=e.condition.transform(t),e.body=e.body.transform(t)}),t(AST_For,function(e,t){e.init&&(e.init=e.init.transform(t)),e.condition&&(e.condition=e.condition.transform(t)),e.step&&(e.step=e.step.transform(t)),e.body=e.body.transform(t)}),t(AST_ForIn,function(e,t){e.init=e.init.transform(t),e.object=e.object.transform(t),e.body=e.body.transform(t)}),t(AST_With,function(e,t){e.expression=e.expression.transform(t),e.body=e.body.transform(t)}),t(AST_Exit,function(e,t){e.value&&(e.value=e.value.transform(t))}),t(AST_LoopControl,function(e,t){e.label&&(e.label=e.label.transform(t))}),t(AST_If,function(e,t){e.condition=e.condition.transform(t),e.body=e.body.transform(t),e.alternative&&(e.alternative=e.alternative.transform(t))}),t(AST_Switch,function(e,t){e.expression=e.expression.transform(t),e.body=r(e.body,t)}),t(AST_Case,function(e,t){e.expression=e.expression.transform(t),e.body=r(e.body,t)}),t(AST_Try,function(e,t){e.body=r(e.body,t),e.bcatch&&(e.bcatch=e.bcatch.transform(t)),e.bfinally&&(e.bfinally=e.bfinally.transform(t))}),t(AST_Catch,function(e,t){e.argname=e.argname.transform(t),e.body=r(e.body,t)}),t(AST_Definitions,function(e,t){e.definitions=r(e.definitions,t)}),t(AST_VarDef,function(e,t){e.name=e.name.transform(t),e.value&&(e.value=e.value.transform(t))}),t(AST_Lambda,function(e,t){e.name&&(e.name=e.name.transform(t)),e.argnames=r(e.argnames,t),e.body=r(e.body,t)}),t(AST_Call,function(e,t){e.expression=e.expression.transform(t),e.args=r(e.args,t)}),t(AST_Seq,function(e,t){e.car=e.car.transform(t),e.cdr=e.cdr.transform(t)}),t(AST_Dot,function(e,t){e.expression=e.expression.transform(t)}),t(AST_Sub,function(e,t){e.expression=e.expression.transform(t),e.property=e.property.transform(t)}),t(AST_Unary,function(e,t){e.expression=e.expression.transform(t)}),t(AST_Binary,function(e,t){e.left=e.left.transform(t),e.right=e.right.transform(t)}),t(AST_Conditional,function(e,t){e.condition=e.condition.transform(t),e.consequent=e.consequent.transform(t),e.alternative=e.alternative.transform(t)}),t(AST_Array,function(e,t){e.elements=r(e.elements,t)}),t(AST_Object,function(e,t){e.properties=r(e.properties,t)}),t(AST_ObjectProperty,function(e,t){e.value=e.value.transform(t)})}();