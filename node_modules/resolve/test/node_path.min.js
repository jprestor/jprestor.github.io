var path=require("path"),test=require("tape"),resolve=require("../");test("$NODE_PATH",function(e){e.plan(4),resolve("aaa",{paths:[path.join(__dirname,"/node_path/x"),path.join(__dirname,"/node_path/y")],basedir:__dirname},function(t,r){e.equal(r,path.join(__dirname,"/node_path/x/aaa/index.js"))}),resolve("bbb",{paths:[path.join(__dirname,"/node_path/x"),path.join(__dirname,"/node_path/y")],basedir:__dirname},function(t,r){e.equal(r,path.join(__dirname,"/node_path/y/bbb/index.js"))}),resolve("ccc",{paths:[path.join(__dirname,"/node_path/x"),path.join(__dirname,"/node_path/y")],basedir:__dirname},function(t,r){e.equal(r,path.join(__dirname,"/node_path/x/ccc/index.js"))}),resolve("tap",{paths:["node_path"],basedir:"node_path/x"},function(t,r){var n=require("tap/package.json").main;e.equal(r,path.resolve(__dirname,"..","node_modules/tap",n))})});