module.exports=function(e,t){var r={};r.nonOptionCount=function(r){var n=e.getDemanded();n._&&r._.length<n._.count&&(void 0!==n._.msg?t.fail(n._.msg):t.fail("Not enough non-option arguments: got "+r._.length+", need at least "+n._.count))},r.missingArgumentValue=function(r){var n=e.getOptions(),i=[!0,!1,""];if(n.requiresArg.length>0){var a=[];if(n.requiresArg.forEach(function(e){var t=r[e];(~i.indexOf(t)||Array.isArray(t)&&!t.length)&&a.push(e)}),1===a.length)t.fail("Missing argument value: "+a[0]);else if(a.length>1){var o="Missing argument values: "+a.join(", ");t.fail(o)}}},r.requiredArguments=function(r){var n=e.getDemanded(),i=null;if(Object.keys(n).forEach(function(e){r.hasOwnProperty(e)||(i=i||{},i[e]=n[e])}),i){var a=[];Object.keys(i).forEach(function(e){var t=i[e].msg;t&&a.indexOf(t)<0&&a.push(t)});var o=a.length?"\n"+a.join("\n"):"";t.fail("Missing required arguments: "+Object.keys(i).join(", ")+o)}},r.unknownArguments=function(r,n){var i=t.getDescriptions(),a=e.getDemanded(),o=[],s={};Object.keys(n).forEach(function(e){n[e].forEach(function(t){s[t]=e})}),Object.keys(r).forEach(function(e){"$0"===e||"_"===e||i.hasOwnProperty(e)||a.hasOwnProperty(e)||s.hasOwnProperty(e)||o.push(e)}),1===o.length?t.fail("Unknown argument: "+o[0]):o.length>1&&t.fail("Unknown arguments: "+o.join(", "))};var n=[];r.check=function(e){n.push(e)},r.customChecks=function(e,r){n.forEach(function(n){try{var i=n(e,r);i?"string"==typeof i&&t.fail(i):t.fail("Argument check failed: "+n.toString())}catch(a){t.fail(a.message?a.message:a)}})};var i={};return r.implies=function(e,t){"object"==typeof e?Object.keys(e).forEach(function(t){r.implies(t,e[t])}):i[e]=t},r.getImplied=function(){return i},r.implications=function(e){var r=[];if(Object.keys(i).forEach(function(t){var n,a=t,o=i[t];n=Number(t),t=isNaN(n)?t:n,"number"==typeof t?t=e._.length>=t:t.match(/^--no-.+/)?(t=t.match(/^--no-(.+)/)[1],t=!e[t]):t=e[t],n=Number(o),o=isNaN(n)?o:n,"number"==typeof o?o=e._.length>=o:o.match(/^--no-.+/)?(o=o.match(/^--no-(.+)/)[1],o=!e[o]):o=e[o],t&&!o&&r.push(a)}),r.length){var n="Implications failed:\n";r.forEach(function(e){n+="  "+e+" -> "+i[e]}),t.fail(n)}},r};