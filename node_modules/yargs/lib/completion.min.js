var fs=require("fs"),path=require("path");module.exports=function(e,t){var r={completionKey:"get-yargs-completions"};r.getCompletion=function(i){var a=[],o=process.argv[process.argv.length-1],s=process.argv.slice(process.argv.indexOf("--"+r.completionKey)+1),u=e.parse(s);return n?n.length<3?i(n(o,u)):n(o,u,function(e){i(e)}):(o.match(/^-/)||t.getCommands().forEach(function(e){a.push(e[0])}),o.match(/^-/)&&Object.keys(e.getOptions().key).forEach(function(e){a.push("--"+e)}),void i(a))},r.generateCompletionScript=function(e){var t=fs.readFileSync(path.resolve(__dirname,"../completion.sh.hbs"),"utf-8"),r=path.basename(e);return e.match(/\.js$/)&&(e="./"+e),t=t.replace(/{{app_name}}/g,r),t.replace(/{{app_path}}/g,e)};var n=null;return r.registerFunction=function(e){n=e},r};