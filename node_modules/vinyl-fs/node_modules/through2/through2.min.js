function DestroyableTransform(e){Transform.call(this,e),this._destroyed=!1}function noop(e,t,r){r(null,e)}function through2(e){return function(t,r,n){return"function"==typeof t&&(n=r,r=t,t={}),"function"!=typeof r&&(r=noop),"function"!=typeof n&&(n=null),e(t,r,n)}}var Transform=require("readable-stream/transform"),inherits=require("util").inherits,xtend=require("xtend");inherits(DestroyableTransform,Transform),DestroyableTransform.prototype.destroy=function(e){if(!this._destroyed){this._destroyed=!0;var t=this;process.nextTick(function(){e&&t.emit("error",e),t.emit("close")})}},module.exports=through2(function(e,t,r){var n=new DestroyableTransform(e);return n._transform=t,r&&(n._flush=r),n}),module.exports.ctor=through2(function(e,t,r){function n(t){return this instanceof n?(this.options=xtend(e,t),void DestroyableTransform.call(this,this.options)):new n(t)}return inherits(n,DestroyableTransform),n.prototype._transform=t,r&&(n.prototype._flush=r),n}),module.exports.obj=through2(function(e,t,r){var n=new DestroyableTransform(xtend({objectMode:!0,highWaterMark:16},e));return n._transform=t,r&&(n._flush=r),n});